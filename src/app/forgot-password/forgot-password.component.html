<!-- forgot-password.component.html -->
<div class="forgot-password-container">
  <div class="forgot-password-card" [@fadeInUp]>
    <div class="header">
      <h1 class="title">Createx</h1>
      <a routerLink="/login" class="back-button">
        <span>Back</span>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
      </a>
    </div>

    <div class="content">
      <h2 class="subtitle">Forgot Password?</h2>
      <p class="description">Enter your email address below and we'll send you a link to reset your password.</p>

      <form
        [formGroup]="forgotPasswordForm"
        (ngSubmit)="onSubmit()"
        [@shake]="formState"
      >
        <div
          class="form-field"
          [class.error]="
            forgotPasswordForm.get('email')?.invalid &&
            forgotPasswordForm.get('email')?.touched
          "
        >
          <label class="field-label">Email address:</label>
          <div class="input-container">
            <span class="field-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"
                />
              </svg>
            </span>
            <input
              type="email"
              formControlName="email"
              placeholder="Enter your email address"
            />
          </div>
          <div
            class="error-message"
            *ngIf="
              forgotPasswordForm.get('email')?.invalid &&
              forgotPasswordForm.get('email')?.touched
            "
          >
            Please enter a valid email address
          </div>
        </div>

        <!-- Error message display -->
        <div class="error-message" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>

        <!-- Success message display -->
        <div class="success-message" *ngIf="successMessage">
          {{ successMessage }}
        </div>

        <button
          type="submit"
          class="reset-button"
          [disabled]="forgotPasswordForm.invalid || isLoading"
        >
          <span *ngIf="!isLoading">Send Reset Link</span>
          <span *ngIf="isLoading">
            <svg class="spinner" viewBox="0 0 50 50">
              <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
            </svg>
            Sending...
          </span>
        </button>

        <div class="login-link">
          Remember your password? <a routerLink="/login">Log in</a>
        </div>
      </form>
    </div>
  </div>
</div>
